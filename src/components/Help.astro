---
import Support from "./Support.astro";
import type { Lang } from "@components/types";

interface Props {
  lang: Lang;
  support: boolean;
  open?: boolean;
  summary?: string | undefined;
}

const { lang, support, open, summary } = Astro.props;
const defaultSummary = {
  ja: "この手順がうまくいかないときのヘルプ",
  en: "Troubleshooting guide",
}[lang];
---

<details open={open}>
  <summary>{summary ?? defaultSummary}</summary>
  <slot />
  <Support lang={lang} show={support} afterDetails />
</details>

<style>
  details > summary {
    padding-inline-start: 20px;
  }
</style>
