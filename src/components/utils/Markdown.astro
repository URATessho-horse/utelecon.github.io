---
import remarkParse from "remark-parse";
import remarkRehype from "remark-rehype";
import rehypeStringify from "rehype-stringify";
import { unified } from "unified";

const processor = unified()
  .use(remarkParse)
  .use(remarkRehype, { allowDangerousHtml: true })
  .use(rehypeStringify, { allowDangerousHtml: true });

async function render(md: string) {
  const result = await processor.process(md);
  return result.value.toString().slice(3, -4);
}

interface Props {
  /**
   * Markdown
   */
  content: string;
}

const { content } = Astro.props;
---

<Fragment set:html={render(content)} />
